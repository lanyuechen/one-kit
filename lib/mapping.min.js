!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Mapping=e():t.Mapping=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var r=[],n=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,u=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw u}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),f=r(1),c=n(f),l=r(2),h=n(l),p=function(t){function e(t){i(this,e);var r=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.toXY=function(t){var e=a(t,2),n=e[0],i=e[1],u=!0,o=!1,s=void 0;try{for(var f,c=r.triangles[Symbol.iterator]();!(u=(f=c.next()).done);u=!0){var l=f.value,h=l.parse([n,i]);if(h.in)return h.result}}catch(t){o=!0,s=t}finally{try{!u&&c.return&&c.return()}finally{if(o)throw s}}return[0,0]},r.makeTris(),r}return o(e,t),s(e,[{key:"makeTris",value:function(){var t=this._data.reduce(function(t,e){return t[e.id]=e,t},{});return this.triangles=this._tris.map(function(e){var r=[],n=[];return e.points.map(function(e){var i=t[e];i&&(r.push([i.start.lng,i.start.lat]),n.push([i.end.x,i.end.y]))}),new h.default(r,n)}),this}},{key:"getData",value:function(t){return this._data.find(function(e){return e.id===t})}},{key:"appendData",value:function(t){this._data.push(t)}},{key:"updateData",value:function(t,e){var r=this._data.findIndex(function(e){return e.id===t});r>-1&&(this._data[r]=Object.assign(this._data[r],e))}},{key:"removeData",value:function(t){var e=this._data.findIndex(function(e){return e.id===t});e>-1&&this._data.splice(e,1)}},{key:"getTris",value:function(t){return this._tris.find(function(e){return e.id===t})}},{key:"appendTris",value:function(t){this._tris.push(t)}},{key:"updateTris",value:function(t,e){var r=this._tris.findIndex(function(e){return e.id===t});r>-1&&(this._tris[r]=Object.assign(this._tris[r],e))}},{key:"removeTris",value:function(t){var e=this._tris.findIndex(function(e){return e.id===t});e>-1&&this._tris.splice(e,1)}}]),e}(c.default);e.default=p},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var r=[],n=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,u=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw u}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(){function t(e){var r=this;n(this,t),Object.entries(e).map(function(t){var e=i(t,2),n=e[0],u=e[1];r.setFunc(n,u)})}return u(t,[{key:"setFunc",value:function(t,e){var r=this;this["_"+t]=e,this[t]=function(e){return void 0!==e?(r["_"+t]=e,r):r["_"+t]}}}]),t}();e.default=o},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var r=[],n=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,u=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw u}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(){function t(e,r){n(this,t),this.source=e,this.target=r,this.s=t.square(e[0],e[1],e[2])}return u(t,[{key:"k1",value:function(e){return t.square(this.source[1],this.source[2],e)/this.s}},{key:"k2",value:function(e){return t.square(this.source[0],this.source[2],e)/this.s}},{key:"k3",value:function(e){return t.square(this.source[0],this.source[1],e)/this.s}},{key:"parse",value:function(t){var e=i(this.target,3),r=e[0],n=e[1],u=e[2],o=[this.k1(t),this.k2(t),this.k3(t)];return{in:o[0]+o[1]+o[2]<=1.001,k:o,result:[o[0]*r[0]+o[1]*n[0]+o[2]*u[0],o[0]*r[1]+o[1]*n[1]+o[2]*u[1]]}}}],[{key:"len2",value:function(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}},{key:"square",value:function(e,r,n){var i=t.len2(e,r),u=t.len2(e,n),o=t.len2(r,n),a=Math.sqrt(u),s=Math.sqrt(i),f=(u+i-o)/(2*a*s);return a*s*Math.sqrt(1-f*f)/2}}]),t}();e.default=o}])});